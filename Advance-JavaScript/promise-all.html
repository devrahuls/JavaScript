<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise.all</title>
</head>
<body>
    <script>
        let p1 = new Promise((resolve , reject) => {  //The first Promise
            setTimeout(() => {
                console.log("The first promise has resolved")
                resolve(10) 
            } , 1 * 1000)
        })

        let p2 = new Promise((resolve , reject) => {    //The Second Promise
            setTimeout(() => {
                console.log("The second promise has resolved")
                resolve(20)
            } , 2 * 1000)
        })

/*      let p3 = new Promise((resolve , reject) => {     //The third Promise
            setTimeout(() => {
                console.log("The third promise has failed")
                reject("Failed")
            } , 3 * 1000)
        }) */

        let p4 = new Promise((resolve , reject) => {     //The fourth Promise
            setTimeout(() => {
                console.log("The fourth promise has resolved")
                resolve(40)
            } , 4 * 1000)
        })

        let total = 0;

        Promise.all([p1 , p2 , p3]).then((result) => {    //All Prmoise result at once

            for(let i in result) { total += result[i]}     // To calculate or to do some operations on the result values.
            console.log(`Results : ${result}`)
            console.log(`Total value of result is : ${total}`)

        }).catch((error) => {
            console.log(`Error : ${error}`)
        })
    </script>
</body>
</html>